<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ - Pulse</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div id="app">
        <header class="header">
            <div class="container">
                <div class="logo">
                    <i class="fas fa-dumbbell"></i>
                    <span>Pulse</span>
                </div>
                <nav class="nav">
                    <a href="#" class="nav-link active" data-section="dashboard">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="#" class="nav-link" data-section="group-classes">–ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è</a>
                    <a href="#" class="nav-link" data-section="trainers">–¢—Ä–µ–Ω–µ—Ä—ã</a>
                    <a href="#" class="nav-link" data-section="subscriptions">–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã</a>
                    <a href="#" class="nav-link" data-section="my-bookings">–ú–æ–∏ –∑–∞–ø–∏—Å–∏</a>
                </nav>
                <div class="auth-buttons">
                    <div class="user-menu">
                        <span id="userName">–ö–ª–∏–µ–Ω—Ç</span>
                        <button class="btn btn-outline" onclick="Auth.logout()">–í—ã–π—Ç–∏</button>
                    </div>
                </div>
            </div>
        </header>

        <main class="main">
            <div class="container">
                <section id="dashboard-section" class="section active">
                    <div class="hero">
                        <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="welcomeUserName">–ö–ª–∏–µ–Ω—Ç</span>!</h1>
                        <p>–í–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏</p>
                    </div>

                    <div class="features-grid">
                        <div class="card feature-card" onclick="showSection('group-classes')">
                            <h3>üèãÔ∏è –ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è</h3>
                            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –∑–∞–ø–∏—Å—å –Ω–∞ –≥—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</p>
                        </div>
                        <div class="card feature-card" onclick="showSection('trainers')">
                            <h3>üë®‚Äçüíº –ö–∞—Ç–∞–ª–æ–≥ —Ç—Ä–µ–Ω–µ—Ä–æ–≤</h3>
                            <p>–í—ã–±–æ—Ä —Ç—Ä–µ–Ω–µ—Ä–∞ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π</p>
                        </div>
                        <div class="card feature-card" onclick="showSection('subscriptions')">
                            <h3>üí≥ –ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã</h3>
                            <p>–ü–æ–∫—É–ø–∫–∞ –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</p>
                        </div>
                        <div class="card feature-card" onclick="showSection('my-bookings')">
                            <h3>üìã –ú–æ–∏ –∑–∞–ø–∏—Å–∏</h3>
                            <p>–ü—Ä–æ—Å–º–æ—Ç—Ä –º–æ–∏—Ö —Ç–µ–∫—É—â–∏—Ö –∏ –ø—Ä–æ—à–µ–¥—à–∏—Ö –∑–∞–ø–∏—Å–µ–π</p>
                        </div>
                    </div>

                    <div class="card">
                        <h2>–ë–ª–∏–∂–∞–π—à–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h2>
                        <div id="upcomingTrainings">
                            <p>–£ –≤–∞—Å –Ω–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫</p>
                        </div>
                    </div>

                    <div class="card">
                        <h2>–ú–æ–∏ –∞–±–æ–Ω–µ–º–µ–Ω—Ç—ã</h2>
                        <div id="mySubscriptions">
                            <p>–£ –≤–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–±–æ–Ω–µ–º–µ–Ω—Ç–æ–≤</p>
                        </div>
                    </div>
                </section>

                <section id="group-classes-section" class="section">
                    <h2>–ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è</h2>
                    <div class="filters">
                        <select id="type-filter">
                            <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                            <option value="yoga">–ô–æ–≥–∞</option>
                            <option value="pilates">–ü–∏–ª–∞—Ç–µ—Å</option>
                            <option value="cardio">–ö–∞—Ä–¥–∏–æ</option>
                        </select>
                    </div>
                    <div id="client-group-classes-list" class="catalog-grid"></div>
                </section>

                <section id="trainers-section" class="section">
                    <h2>–ö–∞—Ç–∞–ª–æ–≥ —Ç—Ä–µ–Ω–µ—Ä–æ–≤</h2>
                    <div class="filters">
                        <select id="experience-filter">
                            <option value="">–õ—é–±–æ–π –æ–ø—ã—Ç</option>
                            <option value="1-3">1-3 –≥–æ–¥–∞</option>
                            <option value="3-5">3-5 –ª–µ—Ç</option>
                            <option value="5+">–ë–æ–ª–µ–µ 5 –ª–µ—Ç</option>
                        </select>
                    </div>
                    <div id="client-trainers-list" class="catalog-grid"></div>
                </section>

                <section id="subscriptions-section" class="section">
                    <h2>–ê–±–æ–Ω–µ–º–µ–Ω—Ç—ã</h2>
                    <div class="subscriptions-grid">
                        <div class="card subscription-card">
                            <h3>–ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏</h3>
                            <p>8 –∑–∞–Ω—è—Ç–∏–π –≤ –º–µ—Å—è—Ü</p>
                            <div class="price">3,500 ‚ÇΩ</div>
                            <button class="btn btn-primary">–ö—É–ø–∏—Ç—å</button>
                        </div>
                        <div class="card subscription-card">
                            <h3>–ü–æ—Å–µ—â–µ–Ω–∏–µ –∑–∞–ª–∞</h3>
                            <p>12 –ø–æ—Å–µ—â–µ–Ω–∏–π (45 –¥–Ω–µ–π)</p>
                            <div class="price">4,200 ‚ÇΩ</div>
                            <button class="btn btn-primary">–ö—É–ø–∏—Ç—å</button>
                        </div>
                        <div class="card subscription-card">
                            <h3>–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–π</h3>
                            <p>–í—Å–µ –≥—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞–Ω—è—Ç–∏—è + –∑–∞–ª</p>
                            <div class="price">6,000 ‚ÇΩ</div>
                            <button class="btn btn-primary">–ö—É–ø–∏—Ç—å</button>
                        </div>
                    </div>
                </section>

                <section id="my-bookings-section" class="section">
                    <h2>–ú–æ–∏ –∑–∞–ø–∏—Å–∏</h2>
                    <div id="bookings-list">
                        <div class="card">
                            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <footer class="footer">
            <div class="container">
                <p>&copy; 2025 Pulse. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </footer>
    </div>

    <script src="js/auth.js"></script>
    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const user = Auth.getCurrentUser();
            if (!user) {
                alert('–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ª–∏—á–Ω–æ–º—É –∫–∞–±–∏–Ω–µ—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è');
                window.location.href = 'index.html';
                return;
            }
            
            if (user.role !== 'client') {
                alert('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω! –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤');
                window.location.href = 'index.html';
                return;
            }
            
            const userNameElement = document.getElementById('userName');
            if (userNameElement && user) {
                userNameElement.textContent = user.name;
            }

            initNavigation();
        });

        function initNavigation() {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const section = e.target.getAttribute('data-section');
                    showSection(section);
                    
                    document.querySelectorAll('.nav-link').forEach(item => item.classList.remove('active'));
                    e.target.classList.add('active');
                });
            });
        }

        function showSection(sectionName) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            const activeSection = document.getElementById(`${sectionName}-section`);
            if (activeSection) {
                activeSection.classList.add('active');
            }
        }

        function viewGroupClasses() {
            showSection('group-classes');
        }

        function viewTrainers() {
            showSection('trainers');
        }

        function buySubscription() {
            showSection('subscriptions');
        }

        function viewMyBookings() {
            showSection('my-bookings');
        }
        
        setTimeout(() => showSection('dashboard'), 100);
    </script>
</body>
</html>